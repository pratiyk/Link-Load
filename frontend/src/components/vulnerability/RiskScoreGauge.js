import React from 'react';
import { CircularProgressbar, buildStyles } from 'react-circular-progressbar';
import 'react-circular-progressbar/dist/styles.css';

const RiskScoreGauge = ({ score }) => {
  const getColor = (value) => {
    if (value <= 3.9) return '#10B981'; // Low - Green
    if (value <= 6.9) return '#F59E0B'; // Medium - Yellow
    if (value <= 8.9) return '#F97316'; // High - Orange
    return '#EF4444'; // Critical - Red
  };

  const getSeverityText = (value) => {
    if (value <= 3.9) return 'Low';
    if (value <= 6.9) return 'Medium';
    if (value <= 8.9) return 'High';
    return 'Critical';
  };

  return (
    <div className="w-48 h-48 mx-auto">
      <CircularProgressbar
        value={score}
        maxValue={10}
        text={`${score.toFixed(1)}`}
        styles={buildStyles({
          rotation: 0.25,
          strokeLinecap: 'round',
          textSize: '16px',
          pathTransitionDuration: 0.5,
          pathColor: getColor(score),
          textColor: getColor(score),
          trailColor: '#E5E7EB',
        })}
      />
      <div className="text-center mt-4">
        <span className="text-sm font-medium text-gray-500">Severity:</span>
        <span 
          className="ml-2 text-sm font-semibold"
          style={{ color: getColor(score) }}
        >
          {getSeverityText(score)}
        </span>
      </div>
    </div>
  );
};

export default RiskScoreGauge;